<p id="notice"><%= notice %></p>

<p>
  <b>Name:</b>
  <%= @section.name %>
</p>

<p>
  <b>Lesson:</b>
  <%= @section.lesson_id %>
</p>

<p>
  <b>Description:</b>
  <%= @section.description %>
</p>

<script>
function showEditForm()
{
  document.getElementById("editForm").style.display="block"
}

function showTypeSelect()
{
  document.getElementById("typeSelect").style.display="block"
}

function switchView(type)
{
  document.getElementById("newQuizActivityForm").style.display="none"
  document.getElementById("newVideoActivityForm").style.display="none"
  document.getElementById("newGalleryActivityForm").style.display="none"
  document.getElementById("newTextActivityForm").style.display="none"
  document.getElementById("newAudioActivityForm").style.display="none"
  document.getElementById("newHtmlActivityForm").style.display="none"
  if(type==1)
    document.getElementById("newTextActivityForm").style.display="block"
  else if(type==2)
    document.getElementById("newQuizActivityForm").style.display="block"
  else if(type==3)
    document.getElementById("newVideoActivityForm").style.display="block"
  else if(type==4)
    document.getElementById("newGalleryActivityForm").style.display="block"
  else if(type==5)
    document.getElementById("newAudioActivityForm").style.display="block"
  else if(type==6)
    document.getElementById("newHtmlActivityForm").style.display="block"

}

function showNewActivityForm()
{
  document.getElementById("newActivityForm").style.display="block"
  
}
</script>

<button onclick="showEditForm()">编辑section属性</button></br>

<div id="editForm" style="display:none">
<%= render 'form' %>
</div>


<button onclick="showTypeSelect()">添加新的Activity</button>

<div id="typeSelect" style="display:none">
  <p>请选择上传的Activity的种类：</p>
  <input type="radio" name="typeSelect" id="ts1" value="1" onclick="switchView(1)"/>
  <label for="ts1"> 文本 </label>
  <input type="radio" name="typeSelect" id="ts2" value="2" onclick="switchView(2)"/>
  <label for="ts2"> 习题 </label>
  <input type="radio" name="typeSelect" id="ts3" value="3" onclick="switchView(3)"/>
  <label for="ts3"> 视频 </label>
  <input type="radio" name="typeSelect" id="ts4" value="4" onclick="switchView(4)"/>
  <label for="ts4"> 图片 </label>
  <input type="radio" name="typeSelect" id="ts5" value="5" onclick="switchView(5)"/>
  <label for="ts5"> 音频 </label>
  <input type="radio" name="typeSelect" id="ts6" value="6" onclick="switchView(6)"/>
  <label for="ts6"> HTML </label>
</div>

<div id="newVideoActivityForm" style="display:none">
<% @video_activity = VideoActivity.new %>
<%= form_for @video_activity, :url => {:controller => :video_activities, :action => :create, :section_id => @section.id } do |f| %>
  <% if @video_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@video_activity.errors.count, "error") %> prohibited this video_activity from being saved:</h2>

      <ul>
      <% @video_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :activity_id %><br />
    <%= f.number_field :activity_id %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :notes %><br />
    <%= f.text_area :notes %>
  </div>
  <div class="field">
    <%= f.label :duration %><br />
    <%= f.number_field :duration %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

<div id="newTextActivityForm" style="display:none">
<% @text_activity = TextActivity.new %>
<%= form_for(@text_activity) do |f| %>
  <% if @text_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@text_activity.errors.count, "error") %> prohibited this text_activity from being saved:</h2>

      <ul>
      <% @text_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :activity_id %><br />
    <%= f.number_field :activity_id %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

<div id="newGalleryActivityForm" style="display:none">
<% @gallery_activity = GalleryActivity.new %>
<%= form_for(@gallery_activity) do |f| %>
  <% if @gallery_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@gallery_activity.errors.count, "error") %> prohibited this gallery_activity from being saved:</h2>

      <ul>
      <% @gallery_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :activity_id %><br />
    <%= f.number_field :activity_id %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="field">
    <%= f.label :notes %><br />
    <%= f.text_area :notes %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

<div id="newQuizActivityForm" style="display:none">
<% @quiz_activity = QuizActivity.new %>
<%= form_for(@quiz_activity) do |f| %>
  <% if @quiz_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@quiz_activity.errors.count, "error") %> prohibited this quiz_activity from being saved:</h2>

      <ul>
      <% @quiz_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :activity_id %><br />
    <%= f.number_field :activity_id %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :size %><br />
    <%= f.number_field :size %>
  </div>
  <div class="field">
    <%= f.label :difficulty %><br />
    <%= f.number_field :difficulty %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

<div id="newAudioActivityForm" style="display:none">
<% @audio_activity = AudioActivity.new %>
<%= form_for(@audio_activity) do |f| %>
  <% if @audio_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@audio_activity.errors.count, "error") %> prohibited this audio_activity from being saved:</h2>

      <ul>
      <% @audio_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :activity_id %><br />
    <%= f.number_field :activity_id %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :notes %><br />
    <%= f.text_area :notes %>
  </div>
  <div class="field">
    <%= f.label :duration %><br />
    <%= f.number_field :duration %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

<div id="newHtmlActivityForm" style="display:none">
<% @html_activity = HtmlActivity.new %>
<%= form_for(@html_activity) do |f| %>
  <% if @html_activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@html_activity.errors.count, "error") %> prohibited this html_activity from being saved:</h2>

      <ul>
      <% @html_activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :provider_id %><br />
    <%= f.number_field :provider_id %>
  </div>
  <div class="field">
    <%= f.label :file_path %><br />
    <%= f.text_field :file_path %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_area :description %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
</div>

</br>
<%= link_to 'Back', sections_path %>
